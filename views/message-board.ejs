<!DOCTYPE html>
<html>
	<head>
		<title><%= title %></title>
		<link rel="stylesheet" href="/stylesheets/style.css" />
	</head>
	<body class="px-4 py-2">
		<%- include('partials/header') %>
		<div class="my-2 w-full p-8">
			<h2 class="text-2xl underline mb-4">All Messages</h2>
			<div class="flex flex-col gap-2 p-2">
				<% messages.forEach(message => { %>
				<article
					class="flex max-w-xl flex-col items-start justify-between p-2 my-2"
				>
					<div class="ps-2 text-xl underline mb-2"><%= message.title %></div>
					<div class="p-4 border-2 border-slate-500 rounded-xl">
						<div><%= message.text %></div>
						<% if (currentUser.member) { %>
						<hr class="my-2" />
						<div class="flex flex-col gap-x-1">
							<div class="text-slate-700"><%= message.user.username%></div>
							<div class="text-slate-600 text-sm">
								<%= message.formatted_timestamp %>
							</div>
						</div>
						<% } %>
					</div>
				</article>
				<% }) %>
			</div>
		</div>
		<% if (currentUser.member) { %> <% } %>
	</body>
</html>
